<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Portal</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header class="header">
        <div class="header-left">
            <button class="menu-btn">‚ò∞</button>
        </div>
        <div class="header-center">
            <img src="Images/enhanced.png" Logo" class="logo">
        </div>
        <div class="header-right">
            <button class="icon-btn settings-btn">‚öôÔ∏è</button>
            <button class="icon-btn lang-btn">üåê</button>
        </div>
    </header>

    <div class="main-container">
        <nav class="sidebar" id="sidebar">
            <ul class="nav-links">
                <li class="nav-item active" id="nav-home">
                    <a href="#" class="nav-link" onclick="showSection('home')">
                        <span class="nav-icon">üè†</span> <span data-i18n="nav_home">Home</span>
                    </a>
                </li>
                <li class="nav-item" id="nav-reg">
                    <a href="#" class="nav-link" onclick="showSection('registration')">
                        <span class="nav-icon">üìù</span> <span data-i18n="nav_reg">Registration</span>
                    </a>
                </li>
                <li class="nav-item" id="nav-sheet">
                    <a href="#" class="nav-link" onclick="showSection('sheet')">
                        <span class="nav-icon">üìÑ</span> <span data-i18n="nav_sheet">Courses Sheet</span>
                    </a>
                </li>
                <li class="nav-item" id="nav-schedule">
                    <a href="#" class="nav-link" onclick="showSection('schedule')">
                        <span class="nav-icon">üïí</span> <span data-i18n="lbl_my_schedule">My Schedule</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link">
                        <span class="nav-icon">üìÖ</span> <span data-i18n="nav_plan">Student Plan</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link">
                        <span class="nav-icon">‚ö†Ô∏è</span> <span data-i18n="nav_exceptions">Exceptions</span>
                    </a>
                </li>
            </ul>
        </nav>

        <div class="content-area">
            
            <div class="container" id="auth-container">
                <h2 id="form-title" data-i18n="auth_login_title">Login</h2>
                <div id="error-msg" style="color: red; margin-bottom: 10px; font-size: 0.9em;"></div>
                
                <input type="text" id="full-name" data-i18n-placeholder="ph_fullname" placeholder="Full Name" class="auth-extra hidden">
                <input type="email" id="email" data-i18n-placeholder="ph_email" placeholder="Email" required>
                <input type="password" id="password" data-i18n-placeholder="ph_password" placeholder="Password" required>
                <input type="password" id="confirm-password" data-i18n-placeholder="ph_confirm_pass" placeholder="Confirm Password" class="auth-extra hidden">
                
                <button id="auth-action-btn" data-i18n="btn_login">Log In</button>
                
                <p style="margin-top: 15px; text-align: center; font-size: 0.9rem; color: #666;">
                    <span id="toggle-text" data-i18n="auth_no_account">Don't have an account? </span>
                    <a href="#" id="toggle-auth-mode" style="color: #4CAF50; text-decoration: none; font-weight: bold;" data-i18n="btn_signup">Sign Up</a>
                </p>
            </div>

            <div id="home-container" class="dashboard-view hidden">
                <div class="home-layout">
                    
                    <div class="left-col">
                        <h1 class="welcome-title"><span data-i18n="welcome_title">Welcome, </span><span id="display-name">...</span></h1>
                        
                        <h3 class="section-label" data-i18n="lbl_overview">Overview</h3>
                        <div class="stats-row">
                            <div class="stat-item">
                                <div class="stat-icon">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="8" r="4"/><path d="M12 12v10"/><path d="M8 12l-3 9 7-2 7 2-3-9"/></svg>
                                </div>
                                <div class="stat-value text-green" id="stat-rank">--</div>
                                <div class="stat-label" data-i18n="lbl_rank">Class Rank</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-icon">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="4" y="2" width="16" height="20" rx="2"/><line x1="8" y1="6" x2="16" y2="6"/><line x1="8" y1="10" x2="16" y2="10"/><line x1="8" y1="14" x2="10" y2="14"/><line x1="14" y1="14" x2="16" y2="14"/></svg>
                                </div>
                                <div class="stat-value text-green" id="stat-gpa">--</div>
                                <div class="stat-label" data-i18n="lbl_gpa">GPA</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-icon">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 12V8H6a2 2 0 0 1-2-2c0-1.1.9-2 2-2h12v4"/><path d="M4 6v12c0 1.1.9 2 2 2h14v-4"/><path d="M18 12a2 2 0 0 0 0 4h4v-4h-4z"/></svg>
                                </div>
                                <div class="stat-value text-green" id="stat-balance">0.00</div>
                                <div class="stat-label" data-i18n="lbl_balance">Balance</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-icon">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="4.93" y1="4.93" x2="19.07" y2="19.07"/></svg>
                                </div>
                                <div class="stat-value text-green" id="stat-absences">0</div>
                                <div class="stat-label" data-i18n="lbl_absences">Absences</div>
                            </div>
                        </div>

                        <div class="student-info-header">
                            <span class="icon-user">üë§</span> <span data-i18n="lbl_student_info">Student Info</span>
                        </div>
                        
                        <div class="info-grid">
                            <div class="info-col">
                                <p><strong><span data-i18n="lbl_name">Name:</span></strong> <span id="info-name">--</span></p>
                                <p><strong><span data-i18n="lbl_dept">Department:</span></strong> <span id="info-major">--</span></p>
                                <p><strong><span data-i18n="lbl_id">Student ID:</span></strong> <span id="info-id">--</span></p>
                            </div>
                            <div class="info-col">
                                <p><strong><span data-i18n="lbl_classes_attended">Class Attended:</span></strong> <span id="info-attended">--</span></p>
                                <p><strong><span data-i18n="lbl_sem">Semester:</span></strong> <span id="info-semester">--</span></p>
                            </div>
                        </div>

                        <div class="action-buttons-row">
                            <button class="action-card-btn" data-i18n="nav_reg" onclick="showSection('registration')">Registration</button>
                            <button class="action-card-btn" data-i18n="btn_schedule">Schedule</button>
                        </div>
                        
                        <button id="logout-btn" class="logout-link" data-i18n="btn_logout">Log Out</button>
                    </div>

                    <div class="right-col">
                        <div class="courses-container">
                            <h2 class="courses-title" data-i18n="lbl_today_courses">Courses for Today</h2>
                            
                            <div class="course-list" id="today-schedule-list">
                                <p style="text-align:center; color:#666;" data-i18n="lbl_loading">Loading...</p>
                            </div>

                            <a href="#" class="view-schedule-link" data-i18n="lbl_view_full">View Full Schedule</a>
                        </div>
                    </div>
                </div>
            </div>

            <div id="registration-container" class="dashboard-view hidden">
                <div class="registration-layout">
                    <div class="reg-left-panel">
                        <button class="enhance-ai-btn" id="ai-enhance-btn" data-i18n="btn_ai_enhance">
                            Enhance with AI
                        </button>
                        
                        <div class="registered-courses-box">
                            <h4 class="box-title" data-i18n="lbl_registered_courses">Registered Courses</h4>
                            <div id="mini-registered-list" class="mini-course-list">
                                <p style="color:#666; font-size:0.9em; margin-top:20px;">No courses registered yet.</p>
                            </div>
                        </div>
                    </div>

                    <div class="reg-right-panel">
                        <div class="search-header">
                            <button class="filter-btn" onclick="toggleFilters()" title="Toggle Filters">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"/>
                                </svg>
                            </button>
                            <div class="search-input-wrapper">
                                <input type="text" id="reg-search-input" class="custom-search" placeholder="Search for courses..." data-i18n-placeholder="ph_search_courses">
                            </div>
                        </div>

                        <div id="reg-filter-panel" class="filter-panel hidden" style="margin-bottom: 20px;">
                            <div class="filters-row">
                                <select id="reg-filter-year" class="filter-select">
                                    <option value="all" data-i18n="filter_year_all">All Years</option>
                                    <option value="1">Year 1</option>
                                    <option value="2">Year 2</option>
                                    <option value="3">Year 3</option>
                                    <option value="4">Year 4</option>
                                    <option value="5">Year 5</option>
                                </select>

                                <select id="reg-filter-category" class="filter-select">
                                    <option value="all" data-i18n="filter_cat_all">All Categories</option>
                                    <option value="University Requirement">University Requirement</option>
                                    <option value="College Compulsory">College Compulsory</option>
                                    <option value="Major Compulsory">Major Compulsory</option>
                                    <option value="Major Elective">Major Elective</option>
                                </select>

                                <select id="reg-filter-credits" class="filter-select">
                                    <option value="all" data-i18n="filter_credits_all">All Credits</option>
                                    <option value="1">1 Hour</option>
                                    <option value="3">3 Hours</option>
                                </select>
                            </div>
                            
                            <div class="toggles-row">
                                <label class="toggle-label">
                                    <input type="checkbox" id="reg-check-closed" checked> 
                                    <span>Show Closed/Full Sections</span>
                                </label>
                                <label class="toggle-label">
                                    <input type="checkbox" id="reg-check-conflicts"> 
                                    <span>Hide Time Conflicts</span>
                                </label>
                            </div>
                        </div>

                        <div id="registration-courses-container">
                            <p style="text-align:center; padding:20px; color:#666;">Loading courses...</p>
                        </div>
                    </div>
                </div>
            </div>

            <div id="courses-sheet-container" class="dashboard-view hidden">
                <h2 class="section-title" data-i18n="nav_sheet">Courses Sheet</h2>
                
                <div class="filter-panel">
                    <div class="search-row">
                        <input type="text" id="sheet-search" class="custom-search" placeholder="Search by Code or Name..." data-i18n-placeholder="ph_search_courses">
                    </div>
                    
                    <div class="filters-row">
                        <select id="filter-year" class="filter-select">
                            <option value="all" data-i18n="filter_year_all">All Years</option>
                            <option value="1">Year 1</option>
                            <option value="2">Year 2</option>
                            <option value="3">Year 3</option>
                            <option value="4">Year 4</option>
                            <option value="5">Year 5</option>
                        </select>

                        <select id="filter-category" class="filter-select">
                            <option value="all" data-i18n="filter_cat_all">All Categories</option>
                            <option value="University Requirement">University Requirement</option>
                            <option value="College Compulsory">College Compulsory</option>
                            <option value="Major Compulsory">Major Compulsory</option>
                            <option value="Major Elective">Major Elective</option>
                        </select>

                        <select id="filter-credits" class="filter-select">
                            <option value="all" data-i18n="filter_credits_all">All Credits</option>
                            <option value="1">1 Hour</option>
                            <option value="3">3 Hours</option>
                        </select>
                    </div>

                    <div class="toggles-row">
                        <label class="toggle-label">
                            <input type="checkbox" id="check-completed" checked> 
                            <span data-i18n="filter_show_completed">Show Completed</span>
                        </label>
                        <label class="toggle-label">
                            <input type="checkbox" id="check-failed" checked> 
                            <span data-i18n="filter_show_failed">Show Failed/Not Taken</span>
                        </label>
                    </div>
                </div>

                <div class="table-container">
                    <table class="courses-table">
                        <thead>
                            <tr>
                                <th data-i18n="tbl_code">Code</th>
                                <th data-i18n="tbl_name">Course Name</th>
                                <th data-i18n="tbl_credits">Cr.</th>
                                <th data-i18n="tbl_category">Category</th>
                                <th data-i18n="tbl_prereq">Prerequisites</th>
                                <th data-i18n="tbl_hours">Lec/Lab</th>
                                <th data-i18n="tbl_status">Status</th>
                            </tr>
                        </thead>
                        <tbody id="courses-table-body">
                            </tbody>
                    </table>
                </div>
            </div>

            <div id="schedule-container" class="dashboard-view hidden">
                <div class="schedule-header">
                    <h2 class="section-title" data-i18n="lbl_my_schedule">My Weekly Schedule</h2>
                    <button class="print-btn" onclick="window.print()">üñ®Ô∏è Print</button>
                </div>

                <div class="schedule-grid" id="schedule-card-grid">
                    </div>

                <div class="schedule-table-wrapper">
                    <table class="schedule-table">
                        <thead>
                            <tr>
                                <th data-i18n="tbl_course">Course</th>
                                <th data-i18n="tbl_day_time">Day & Time</th>
                                <th data-i18n="tbl_room">Room</th>
                                <th data-i18n="tbl_instructor">Instructor</th>
                                <th data-i18n="tbl_credits">Credits</th>
                            </tr>
                        </thead>
                        <tbody id="full-schedule-body">
                            </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <div id="ai-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>ü§ñ AI Academic Advisor</h2>
                <button class="close-modal">&times;</button>
            </div>
            
            <div id="ai-loading" class="hidden">
                <div class="spinner"></div>
                <p>Analyzing your transcript and generating schedules...</p>
            </div>

            <div id="ai-results" class="results-grid">
                </div>
        </div>
    </div>

    <div id="ai-pref-modal" class="modal hidden">
        <div class="modal-content" style="max-width: 500px;">
            <div class="modal-header">
                <h2 data-i18n="ai_pref_title">üéõÔ∏è Customize Your Schedule</h2>
                <button class="close-modal" id="close-pref-btn">&times;</button>
            </div>
            
            <div class="pref-form">
                <div class="form-group">
                    <label class="form-label">Academic Intensity</label>
                    <div class="intensity-selector">
                        <label class="radio-card">
                            <input type="radio" name="intensity" value="Relaxed">
                            <span class="emoji">‚òï</span>
                            <span>Relaxed</span>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="intensity" value="Balanced" checked>
                            <span class="emoji">‚öñÔ∏è</span>
                            <span>Balanced</span>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="intensity" value="Intense">
                            <span class="emoji">üî•</span>
                            <span>Intense</span>
                        </label>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Preferred Days</label>
                    <div class="checkbox-group" style="flex-direction: column; gap: 10px;">
                    <label>
                        <input type="checkbox" name="days" value="Sat"> 
                        Sat
                    </label>
                    <label>
                        <input type="checkbox" name="days" value="Mon/Wed" checked> 
                        Mon, Wed
                    </label>
                    <label>
                        <input type="checkbox" name="days" value="Sun/Tue"> 
                        Sun, Tue
                    </label>
                </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Time of Day</label>
                    <select id="time-pref" class="custom-select">
                        <option value="Any">Any Time</option>
                        <option value="Morning Only">Morning (8:00 - 12:00)</option>
                        <option value="No Early Classes">No Early Classes (After 10:00)</option>
                        <option value="Afternoon">Afternoon (After 12:00)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">Specific Goal (Optional)</label>
                    <input type="text" id="focus-pref" class="custom-input" placeholder="e.g. Focus on Web Dev, Easy Electives...">
                </div>

                <button id="generate-schedule-btn" class="enhance-ai-btn" data-i18n="btn_generate">Generate Recommendations ‚ú®</button>            </div>
        </div>
    </div>

    <script type="module" src="app.js"></script>
</body>
</html>