/* plan.css */

#tree-wrapper {
    position: relative;
    width: 100%;
    height: 80vh;
    overflow: auto; /* Allow scrolling */
    background-color: #0b0c15;
    background-image: 
        radial-gradient(circle at 50% 50%, rgba(20, 30, 50, 0.4) 0%, transparent 50%),
        linear-gradient(rgba(255, 255, 255, 0.02) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255, 255, 255, 0.02) 1px, transparent 1px);
    background-size: 100% 100%, 40px 40px, 40px 40px;
    border-radius: 20px;
    cursor: grab;
}

#plan-tree-canvas {
    position: relative;
    transform-origin: left;
    transition: transform 0.3s ease;
}

/* --- Connectors --- */
.tree-svg-layer {
    position: absolute;
    top: 0; 
    left: 0;
    width: 100%; 
    height: 100%;
    z-index: 1; /* Lowest index */
}

.connector-path {
    fill: none;
    stroke: #5c7cfa; /* Brighter Blue */
    stroke-width: 3px; /* Thicker line */
    opacity: 0.6;
}
@keyframes dash { to { stroke-dashoffset: 1000; } }

/* --- Nodes --- */
.node-card {
    position: absolute;
    width: 160px;
    padding: 12px;
    border-radius: 12px;
    background: #151921;
    border: 1px solid rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(8px);
    display: flex;
    flex-direction: column;
    gap: 4px;
    z-index: 5;
    cursor: pointer;
    transition: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    box-shadow: 0 4px 6px rgba(0,0,0,0.3);
}

.node-card:hover {
    transform: translateY(-5px) scale(1.02);
    box-shadow: 0 10px 20px rgba(0,0,0,0.5);
    z-index: 10;
}

/* Node Status Colors */
.node-card.passed {
    border-color: #00e676;
    box-shadow: 0 0 15px rgba(0, 230, 118, 0.1);
}
.node-card.passed::before { content: 'âœ…'; position:absolute; top:-8px; right:-8px; font-size:14px; background:#111; border-radius:50%; }

.node-card.registered {
    border-color: #2979ff;
    box-shadow: 0 0 15px rgba(41, 121, 255, 0.15);
}
.node-card.registered::before { content: 'ðŸ“˜'; position:absolute; top:-8px; right:-8px; font-size:14px; background:#111; border-radius:50%; }

.node-card.locked { opacity: 0.6; border-color: #333; }
.node-card.open { border-color: #fff; }

/* Text Styles */
.nc-code { font-size: 0.75rem; font-weight: 800; color: #888; letter-spacing: 1px; }
.nc-name { font-size: 0.85rem; font-weight: 600; color: #eee; line-height: 1.2; }
.nc-credits { font-size: 0.7rem; color: #555; margin-top: 4px; }